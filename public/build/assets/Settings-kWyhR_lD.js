import{r as m,j as e,m as y}from"./app-CGziq66q.js";import{S as U,H as z}from"./sidebar-CBmXFcJb.js";import{A as K,a as q}from"./alert-CZ871DnF.js";import{u as O,a as J,c as Q,b as W,P as b,d as D,R as X,I as Y,e as v,f as Z,g as h,B as N}from"./dropdown-menu-Dss42h0Y.js";import{C as ee,a as C,b as T,c as _,d as P,e as I,f as S}from"./card-BXJHeqP8.js";import{I as g}from"./input-BKaolL2z.js";import{L as f}from"./label-BK0tFXYe.js";import"./separator-DANX0rn_.js";import"./users-DCQcvjux.js";var j="Tabs",[ae,he]=Q(j,[D]),k=D(),[se,w]=ae(j),E=m.forwardRef((a,r)=>{const{__scopeTabs:c,value:o,onValueChange:t,defaultValue:s,orientation:i="horizontal",dir:u,activationMode:n="automatic",...x}=a,l=O(u),[d,p]=J({prop:o,onChange:t,defaultProp:s});return e.jsx(se,{scope:c,baseId:W(),value:d,onValueChange:p,orientation:i,dir:l,activationMode:n,children:e.jsx(b.div,{dir:l,"data-orientation":i,...x,ref:r})})});E.displayName=j;var R="TabsList",M=m.forwardRef((a,r)=>{const{__scopeTabs:c,loop:o=!0,...t}=a,s=w(R,c),i=k(c);return e.jsx(X,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:o,children:e.jsx(b.div,{role:"tablist","aria-orientation":s.orientation,...t,ref:r})})});M.displayName=R;var V="TabsTrigger",$=m.forwardRef((a,r)=>{const{__scopeTabs:c,value:o,disabled:t=!1,...s}=a,i=w(V,c),u=k(c),n=B(i.baseId,o),x=H(i.baseId,o),l=o===i.value;return e.jsx(Y,{asChild:!0,...u,focusable:!t,active:l,children:e.jsx(b.button,{type:"button",role:"tab","aria-selected":l,"aria-controls":x,"data-state":l?"active":"inactive","data-disabled":t?"":void 0,disabled:t,id:n,...s,ref:r,onMouseDown:v(a.onMouseDown,d=>{!t&&d.button===0&&d.ctrlKey===!1?i.onValueChange(o):d.preventDefault()}),onKeyDown:v(a.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(o)}),onFocus:v(a.onFocus,()=>{const d=i.activationMode!=="manual";!l&&!t&&d&&i.onValueChange(o)})})})});$.displayName=V;var L="TabsContent",G=m.forwardRef((a,r)=>{const{__scopeTabs:c,value:o,forceMount:t,children:s,...i}=a,u=w(L,c),n=B(u.baseId,o),x=H(u.baseId,o),l=o===u.value,d=m.useRef(l);return m.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),e.jsx(Z,{present:t||l,children:({present:p})=>e.jsx(b.div,{"data-state":l?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":n,hidden:!p,id:x,tabIndex:0,...i,ref:r,style:{...a.style,animationDuration:d.current?"0s":void 0},children:p&&s})})});G.displayName=L;function B(a,r){return`${a}-trigger-${r}`}function H(a,r){return`${a}-content-${r}`}var re=E,te=M,ne=$,oe=G;function ie({className:a,...r}){return e.jsx(re,{"data-slot":"tabs",className:h("flex flex-col gap-2",a),...r})}function de({className:a,...r}){return e.jsx(te,{"data-slot":"tabs-list",className:h("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...r})}function A({className:a,...r}){return e.jsx(ne,{"data-slot":"tabs-trigger",className:h("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/50 inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...r})}function F({className:a,...r}){return e.jsx(oe,{"data-slot":"tabs-content",className:h("flex-1 outline-none",a),...r})}function ve({user:a,success:r}){const[c,o]=m.useState("profile"),t=y({name:a.name,_method:"PUT"}),s=y({current_password:"",password:"",password_confirmation:"",_method:"PUT"}),i=n=>{n.preventDefault(),t.post(route("admin.settings.updateProfile"))},u=n=>{n.preventDefault(),s.post(route("admin.settings.updatePassword"))};return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(U,{user:a}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(z,{user:a}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 md:p-6 dark:bg-gray-900",children:e.jsxs("div",{className:"mx-auto flex max-w-4xl flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Settings"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage your account settings and change your password"})]}),r&&e.jsxs(K,{className:"border-green-200 bg-green-50 text-green-800 dark:border-green-900/30 dark:bg-green-900/20 dark:text-green-400",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsx(q,{children:r})]}),e.jsxs(ie,{value:c,onValueChange:o,className:"w-full",children:[e.jsxs(de,{className:"mb-8 grid w-full grid-cols-2",children:[e.jsx(A,{value:"profile",children:"Profile"}),e.jsx(A,{value:"password",children:"Password"})]}),e.jsx(F,{value:"profile",children:e.jsxs(C,{children:[e.jsxs(T,{children:[e.jsx(_,{children:"Profile Information"}),e.jsx(P,{children:"Update your account's profile information and email address."})]}),e.jsxs("form",{onSubmit:i,children:[e.jsxs(I,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"name",children:"Name"}),e.jsx(g,{id:"name",name:"name",value:t.data.name,onChange:n=>t.setData("name",n.target.value),disabled:t.processing}),t.errors.name&&e.jsx("p",{className:"text-sm text-red-500",children:t.errors.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"email",children:"Email"}),e.jsx(g,{id:"email",name:"email",value:a.email,disabled:!0,className:"bg-gray-50"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Email cannot be changed"})]})]}),e.jsx(S,{children:e.jsx(N,{type:"submit",disabled:t.processing||!t.isDirty,className:"ml-auto",children:"Save Changes"})})]})]})}),e.jsx(F,{value:"password",children:e.jsxs(C,{children:[e.jsxs(T,{children:[e.jsx(_,{children:"Change Password"}),e.jsx(P,{children:"Ensure your account is using a long, random password to stay secure."})]}),e.jsxs("form",{onSubmit:u,children:[e.jsxs(I,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"current_password",children:"Current Password"}),e.jsx(g,{id:"current_password",name:"current_password",type:"password",value:s.data.current_password,onChange:n=>s.setData("current_password",n.target.value),disabled:s.processing}),s.errors.current_password&&e.jsx("p",{className:"text-sm text-red-500",children:s.errors.current_password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"password",children:"New Password"}),e.jsx(g,{id:"password",name:"password",type:"password",value:s.data.password,onChange:n=>s.setData("password",n.target.value),disabled:s.processing}),s.errors.password&&e.jsx("p",{className:"text-sm text-red-500",children:s.errors.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"password_confirmation",children:"Confirm Password"}),e.jsx(g,{id:"password_confirmation",name:"password_confirmation",type:"password",value:s.data.password_confirmation,onChange:n=>s.setData("password_confirmation",n.target.value),disabled:s.processing})]})]}),e.jsx(S,{children:e.jsx(N,{type:"submit",disabled:s.processing||!s.data.current_password||!s.data.password||!s.data.password_confirmation,className:"ml-auto",children:"Update Password"})})]})]})})]})]})})]})]})}export{ve as default};
